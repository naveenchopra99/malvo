{% extends 'base.html' %}
{% load staticfiles %}

{% block stylesheets %}
<link rel="stylesheet" href="{% static 'css/gruvbox-dark.css' %}">
<link rel="stylesheet" href="{% static 'mcqs/css/style.css' %}" />
{% endblock %}

{% block content %}

<div class="ui basic small modal">
  <div class="ui header">
    Answers submitted successfully.
  </div>
  <div class="actions">
    <a class="ui green ok inverted button" href="{% url 'mcqs:index' %}">
      Exit Arena
    </a>
  </div>
</div>

<div class="padded-div" style="min-height: 700px;">
  <div class="ui grid">
    <div class="twelve wide column">
      <div class="ui grey segment" id="question-choices-panel">
        <div id="question-text"></div>
        <div class="ui divider"></div>
        <div id="choices"></div>
      </div>
    </div>

    <div class="four wide column">
      <div class="ui grey segment">
        <h3 class="ui red inverted header">
          <i class="wait icon"></i>
          <div class="content" id="timer">00:00:00</div>
        </h3>
        <h3 class="ui centered header" id="question-no"></h3>
      </div>
      <div class="ui segment">
        <div class="ui two buttons">
          <button class="ui left attached basic button" id="prev-question">
            Previous
          </button>
          <button class="ui right attached basic button" id="next-question">
            Next
          </button>
        </div>
      </div>
      <div class="ui segment inverted" id="question-no-panel"></div>
      <button class="ui fluid button" id="submit-all">Submit all</button>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{% static 'lib/showdown/dist/showdown.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/highlight.pack.js' %}"></script>
<script type="text/javascript" src="{% static 'lib/jquery.cookie/jquery.cookie.js' %}"></script>
<script type="text/javascript">
  var RemainingTime = {{ remaining_time }};

  /* Previous answers
   * `Answers` contains question numbers as keys and answered choices as values.
   * Both keys and values are strings.
   */
  var Answers = {{ previous_answers|safe }};

  /* MCQs */
  var MCQs = {{ mcqs|safe }};
  // Sort MCQs according to qno
  MCQs.sort(function(a, b) { return a.qno - b.qno; });

  /* Initialize Showdown MDtoHTML Converter */
  var showdownConverter = new showdown.Converter();
</script>
<script type="text/javascript" src="{% static 'mcqs/js/script.js' %}"></script>
{% endblock %}
